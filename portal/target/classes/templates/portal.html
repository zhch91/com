<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" style="height: 100%">
<head>
    <meta http-equiv="Content-Type" content="text/html;charset=UTF-8" />
    <title>登录</title>
    <link rel="stylesheet" th:href="@{/staticRes/css/all.min.css}"/>
    <link rel="stylesheet" th:href="@{/staticRes/css/element/index.css}"/>
    <link rel="stylesheet" th:href="@{/staticRes/css/fis.css}"/>
    <script type="text/javascript" th:src="@{/staticRes/js/jquery-3.4.1.min.js}"></script>
    <script type="text/javascript" th:src="@{/staticRes/js/vue.min.js}"></script>
    <script type="text/javascript" th:src="@{/staticRes/js/element/index.js}"></script>
    <script type="text/javascript" th:src="@{/staticRes/js/fis.js}"></script>
</head>
<body style="height: 100%;margin: 0 auto">
    <div id="main" style="width: 100%;height: 100%">
        <el-container style="height: 100%">
            <el-header style="background-color: #21a8c6">
                <div style="width: 300px;float: left">
                    <img th:src="@{/portal/static/images/logo.png}" style="height: 50px">
                    殡葬信息管理系统
                </div>
                <div style="width: 300px;float: right;text-align: right;line-height: 60px;">
                    <el-popover
                            placement="bottom"
                            title=""
                            width="50"
                            trigger="hover"
                            content="访问主页">
                        <el-span slot="reference" class="fal fa-home" style="color: white;margin-right: 5px"></el-span>
                    </el-popover>
                    <el-popover
                            placement="bottom"
                            title=""
                            width="50"
                            trigger="hover"
                            content="快捷导航">
                        <el-span slot="reference" class="fal fa-location-arrow" style="color: white;margin-right: 5px"></el-span>
                    </el-popover>
                    <el-popover
                            placement="bottom"
                            title=""
                            width="50"
                            trigger="hover"
                            content="网站设置">
                        <el-span slot="reference" class="fal fa-cog" style="color: white;margin-right: 5px"></el-span>
                    </el-popover>
                    <el-popover
                            placement="bottom"
                            title=""
                            width="50"
                            trigger="hover"
                            content="退出登录">
                        <el-span slot="reference" class="fal fa-power-off" style="color: white;margin-right: 5px"></el-span>
                    </el-popover>
                </div>
            </el-header>
            <el-container>
                <el-aside :width="menuWidth">
                    <el-menu :default-openeds="['1']" :collapse="isCollapse" style="height: 100%">
                        <div style="position: relative;top: 2px;text-align:center;height: 40px;line-height: 40px" @click="changeCollapse">
                            <i class="fa fa-bars"></i>
                        </div>
                        <el-submenu v-for="menu in menus"
                                    :index="menu.menuId">
                            <template slot="title"><i :class=menu.menuIcon ></i><span slot="title" style="margin-left: 2px">{{menu.menuName}}</span></template>
                            <el-menu-item v-for="sub in menu.children"
                                          :index="sub.menuUrl"  @click="goToMenu">{{sub.menuName}}</el-menu-item>
                        </el-submenu>
                    </el-menu>

                </el-aside>
                <el-main style="overflow: hidden">
                    <iframe :src="currentUrl"
                            frameborder="0"
                            width="100%"
                            height="100%"
                            id="rightiframe"
                            name="rightiframe"></iframe>
                </el-main>
            </el-container>
        </el-container>
    </div>
</body>
<script th:inline="javascript">
    let userId = [[${session.userId}]];
</script>
<script type="text/javascript" th:src="@{/portal/static/js/menu.js}"></script>
</html>